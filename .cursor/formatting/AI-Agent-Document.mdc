---
alwaysApply: true
---

# AI Agent Document Formatting Rules

## **CRITICAL EXECUTION DIRECTIVE**

**AI Agent Directive**: Follow this formatting protocol exactly for all AI agent documentation.

**MANDATORY EXECUTION PROTOCOL**:

1. **NO DEVIATION**: All formatting rules must be followed exactly as written
2. **NO SKIPPING**: No steps may be skipped, abbreviated, or modified
3. **NO SELECTIVE COMPLIANCE**: All rules apply to all AI agent documents
4. **FAILURE TO COMPLY**: Violating these rules constitutes a critical protocol violation

## **AI AGENT DOCUMENT STRUCTURE**

### **Required Document Header**

```markdown
# [Document Title]

## **REFERENCE FILES**

### **Documentation References**

- **SOP_DOCS**: `docs/_SOP.md`
- **ARCHITECTURE_DOCS**: `docs/_Architecture.md`
- **PACKAGE_ARCHETYPES**: `docs/_Package-Archetypes.md`

### **AI Testing Documentation References**

- **AI_TESTING_BASE**: `docs/testing/(AI) _Strategy- Base- Testing.md`
- **AI_MOCKING_BASE**: `docs/testing/(AI) _Strategy- Base- Mocking.md`
- **AI_TROUBLESHOOTING**: `docs/testing/(AI) _Troubleshooting- Base.md`

---

## **CRITICAL EXECUTION DIRECTIVE**

**AI Agent Directive**: [Specific directive for document purpose]

**MANDATORY EXECUTION PROTOCOL**:

1. **NO DEVIATION**: All rules must be followed exactly as written
2. **NO SKIPPING**: No steps may be skipped, abbreviated, or modified
3. **NO SELECTIVE COMPLIANCE**: All rules apply to all actions
4. **FAILURE TO COMPLY**: Violating these rules constitutes a critical protocol violation
```

### **Section Structure Requirements**

#### **Primary Sections (##)**

- Use **BOLD HEADERS** for all primary sections
- Format: `## **SECTION NAME**`
- No numbering in primary sections
- Each section must contain complete, self-contained information

#### **Subsections (###)**

- Use **BOLD HEADERS** for all subsections
- Format: `### **SUBSECTION NAME**`
- Can use numbering for logical grouping: `### **1. :: Subsection Name**`

#### **Sub-subsections (####)**

- Use **BOLD HEADERS** for all sub-subsections
- Format: `#### **SUB-SUBSECTION NAME**`
- Can use numbering for logical grouping: `#### **1.1. :: Sub-subsection Name**`

## **CONTENT FORMATTING RULES**

### **Decision Criteria Format**

- Use ✅ for correct/required actions
- Use ❌ for incorrect/prohibited actions
- Use **BOLD** for emphasis on critical points
- Use bullet points for lists of criteria

### **Code Examples Format**

- Use triple backticks with language specification
- Include complete, executable examples
- Add comments explaining critical points
- Use `//>` and `//<` folding markers for test code

### **Anti-Pattern Format**

- Use ❌ **BOLD DESCRIPTION** - Explanation format
- Group by category (Architecture, Build, Testing, etc.)
- Include specific violation examples
- Provide correct alternatives

### **Quality Gates Format**

- Use checkbox format: `- [ ] **Checkpoint Name**`
- Group by priority level
- Include validation criteria
- Provide success metrics

## **AI AGENT OPTIMIZATION RULES**

### **Self-Contained Information**

- **NO REFERENCES**: All critical information must be included in the document
- **COMPLETE EXAMPLES**: Provide full code examples, not fragments
- **COMPREHENSIVE RULES**: Every rule must include full context and rationale
- **DETAILED CHECKLISTS**: Complete validation criteria without external dependencies

### **Decision Tree Structure**

- Use hierarchical numbering for decision paths
- Provide clear branching logic
- Include fallback scenarios
- Add validation checkpoints at each decision point

### **Violation Prevention**

- Include **Natural Stops** sections with mandatory violation detection
- Provide **Pattern Recognition** triggers for AI agent responses
- Add **Execution Priority Matrix** for decision-making order
- Include **Quality Gates** for compliance validation

### **Success Metrics**

- Define measurable outcomes for AI agent performance
- Include validation criteria for each section
- Provide compliance checkpoints
- Add performance indicators

## **MANDATORY SECTIONS FOR AI AGENT DOCUMENTS**

### **Required Sections**

1. **REFERENCE FILES** - Minimal context only
2. **CRITICAL EXECUTION DIRECTIVE** - Mandatory protocol
3. **[TOPIC] SYSTEM** - Complete system definition
4. **[TOPIC] RULES** - All applicable rules with full context
5. **[TOPIC] PATTERNS** - Implementation patterns with examples
6. **[TOPIC] ANTI-PATTERNS** - Violation prevention
7. **[TOPIC] QUALITY GATES** - Compliance validation
8. **[TOPIC] SUCCESS METRICS** - Performance indicators
9. **[TOPIC] VIOLATION PREVENTION** - Natural stops and pattern recognition
10. **EXECUTION PRIORITY MATRIX** - Decision-making hierarchy
11. **DYNAMIC MANAGEMENT NOTE** - Document evolution statement

### **Section Content Requirements**

- **Complete Information**: No external references for critical content
- **Actionable Directives**: Every section must drive specific AI actions
- **Compliance Enforcement**: Built-in violation detection and prevention
- **Measurable Outcomes**: Clear success criteria for AI agent performance

## **FORMATTING ANTI-PATTERNS**

### **❌ PROHIBITED FORMATTING**

- ❌ **External References** - No links to other documents for critical information
- ❌ **Incomplete Examples** - No code fragments without full context
- ❌ **Ambiguous Language** - No vague or unclear directives
- ❌ **Missing Context** - No rules without rationale and examples
- ❌ **Inconsistent Structure** - No deviation from required section order
- ❌ **Passive Voice** - No indirect or unclear action requirements

### **❌ CONTENT ANTI-PATTERNS**

- ❌ **Human-Focused Language** - No explanations for human readers
- ❌ **Historical Context** - No "why we did this" explanations
- ❌ **Opinion-Based Content** - No subjective or preference-based guidance
- ❌ **Incomplete Coverage** - No gaps in rule coverage
- ❌ **Circular References** - No cross-references between AI documents

## **AI AGENT DOCUMENT QUALITY GATES**

### **Quality Gates Checklist**

- [ ] **Complete Information**: All critical content is self-contained
- [ ] **Clear Directives**: Every rule has unambiguous action requirements
- [ ] **Comprehensive Examples**: All patterns include complete implementations
- [ ] **Violation Prevention**: Natural stops and anti-patterns are defined
- [ ] **Compliance Validation**: Quality gates and success metrics are included
- [ ] **Decision Support**: Clear decision trees and priority matrices
- [ ] **AI Optimization**: Content is structured for AI agent consumption
- [ ] **No External Dependencies**: Critical information is not referenced externally

### **Quality Gates**

- [ ] All sections follow required formatting structure
- [ ] No anti-patterns detected in content or formatting
- [ ] Complete information coverage without external references
- [ ] Clear, actionable directives throughout document
- [ ] Comprehensive examples and implementation patterns
- [ ] Built-in violation prevention and compliance validation

## **AI AGENT DOCUMENT SUCCESS METRICS**

After implementing proper AI agent document formatting:

- ✅ **Perfect Compliance** - AI agents follow all documented rules exactly
- ✅ **Zero Violations** - No architectural or formatting violations detected
- ✅ **Consistent Behavior** - Same inputs produce same outputs across AI agents
- ✅ **Rapid Execution** - Fast decision-making without document navigation
- ✅ **Automatic Enforcement** - Self-enforcing compliance without human intervention
- ✅ **Measurable Performance** - Clear metrics for AI agent effectiveness

## **AI AGENT DOCUMENT VIOLATION PREVENTION**

### **Natural Stops**

- **MANDATORY**: External references in critical sections → "Include complete information"
- **MANDATORY**: Incomplete examples → "Provide full, executable examples"
- **MANDATORY**: Ambiguous directives → "Use clear, actionable language"
- **MANDATORY**: Missing context → "Include rationale and full context"
- **MANDATORY**: Inconsistent structure → "Follow required section order"
- **MANDATORY**: Human-focused language → "Use AI agent optimization language"

### **Pattern Recognition**

- Document structure → Determines formatting compliance
- Content completeness → Determines information coverage
- Directive clarity → Determines actionability
- Example quality → Determines implementation guidance
- Violation prevention → Determines compliance enforcement
- Success metrics → Determines performance measurement

## **EXECUTION PRIORITY MATRIX**

### **CRITICAL PRIORITY (Execute immediately)**

- Document structure compliance verification
- Complete information inclusion validation
- Clear directive formatting verification
- Anti-pattern violation detection
- Quality gate compliance verification

### **HIGH PRIORITY (Execute before proceeding)**

- Content completeness validation
- Example quality verification
- Violation prevention mechanism validation
- Success metric definition verification

### **MEDIUM PRIORITY (Execute during normal operation)**

- AI agent optimization validation
- Performance measurement verification
- Compliance enforcement validation

### **LOW PRIORITY (Execute when time permits)**

- Document evolution planning
- Performance optimization
- Future enhancement planning

## **DYNAMIC MANAGEMENT NOTE**

This document is optimized for AI agent internal processing and may be updated dynamically based on operational needs and pattern recognition. The structure prioritizes AI agent compliance and effectiveness over traditional documentation practices.
